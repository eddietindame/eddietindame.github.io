{"version":3,"file":"static/webpack/static/development/pages/work.js.5906ef232c305ec0e1f2.hot-update.js","sources":["webpack:///./components/Video/Video.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport { string, object, func } from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport './Video.scss'\n\nconst Video = ({\n    className,\n    animation,\n    video,\n    onTouchStart,\n    onTouchEnd\n}) => {\n    const videoRef = useRef()\n    const [isVideoLoaded, setIsVideoLoaded] = useState(false)\n    const _animation = animation ? useSpring(animation) : undefined\n    const Element = animation ? animated.div : 'div'\n    const _onVideoLoaded = () => { setIsVideoLoaded(true) }\n\n    useEffect(() => {\n        const videoElement = videoRef.current\n        videoElement.addEventListener('canplay', _onVideoLoaded)\n        return () => { videoElement.removeEventListener('canplay', _onVideoLoaded) }\n    }, [])\n\n    return (\n        <Element\n            className={(className ? className + ' ' :  '') + 'video'}\n            onTouchStart={onTouchStart}\n            onTouchEnd={onTouchEnd}\n            style={_animation}\n        >\n            <video\n                className=\"video__element\"\n                style={{ opacity: isVideoLoaded ? 1 : 0 }}\n                ref={videoRef}\n                // width=\"250\"\n                // height=\"400\"\n                playsInline\n                autoPlay\n                muted\n                loop\n            >\n                {\n                    video.sources.map((source, i) =>\n                        <source\n                            key={i}\n                            src={`${name}.${source}`}\n                            type={`'video/'${source}`}\n                        />\n                    )\n                }\n                Your browser does not support the video tag. ðŸ˜¢\n            </video>\n            {\n                !isVideoLoaded &&\n                    <div\n                        className=\"video__overlay\"\n                        style={{ opacity: isVideoLoaded ? 0 : 1 }}\n                    >\n                        <div className=\"video__overlay__loader loader\" />\n                    </div>\n            }\n        </Element>\n    )\n}\n\nVideo.propTypes = {\n    className: string,\n    animation: object,\n    video: object.isRequired,\n    onTouchStart: func,\n    onTouchEnd: func\n}\n\nexport default Video\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AAAA;AACA;AAEA;AALA;AAMA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAaA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;;;;A","sourceRoot":""}